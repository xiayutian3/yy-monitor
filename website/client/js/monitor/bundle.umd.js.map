{"version":3,"file":"bundle.umd.js","sources":["../../../../sdk/errorCatch.js","../../../../sdk/index.js"],"sourcesContent":["//错误捕获监控\r\n\r\nlet formatError = (errorObj) => {\r\n  // debugger\r\n  // 兼容 火狐 苹果浏览器\r\n  let col = errorObj.column || errorObj.columnNumber\r\n  let row = errorObj.line || errorObj.lineNumber\r\n  let errorType = errorObj.name\r\n  let message = errorObj.message\r\n\r\n  let { stack } = errorObj\r\n  if (stack) {\r\n    let matchUrl = stack.match(/https?:\\/\\/[^\\n]+/)\r\n    let urlFirstStack = matchUrl ? matchUrl[0] : ''\r\n    debugger\r\n  }\r\n}\r\n\r\nexport default {\r\n  init: (cb) => {\r\n    let _origin_error = window.onerror\r\n    window.onerror = function (message, source, lineno, colno, error) {\r\n\r\n      let errorInfo = formatError(error)\r\n      errorInfo.type = 'error'\r\n      _origin_error && _origin_error.apply(window, arguments)\r\n    }\r\n    // cb()\r\n  }\r\n}","import perf from './perf'\r\nimport resource from './resource'\r\nimport errorCatch from './errorCatch'\r\nimport xhrHook from './xhrHook'\r\n\r\n\r\n//性能指标\r\n// perf.init((perfData)=>{\r\n//   //performance timing\r\n//   // console.log('perfData: ', perfData);\r\n//   // console.log('perf init')\r\n// })\r\n\r\n//资源监控\r\n// resource.init((resource)=>{\r\n//   console.log('resource: ', resource);\r\n// })\r\n\r\n//请求监控\r\n// console.log('xhrHook: ', xhrHook);\r\n// xhrHook.init((infoData)=>{\r\n//   console.log('infoData: ', infoData);\r\n// })\r\n\r\n//错误捕获\r\nerrorCatch.init(()=>{\r\n  console.log('errorCatch init')\r\n})"],"names":["formatError","errorObj","column","columnNumber","line","lineNumber","name","message","stack","matchUrl","match","init","cb","_origin_error","window","onerror","source","lineno","colno","error","errorInfo","type","apply","arguments","errorCatch","console","log"],"mappings":";;;;;EAAA;;EAEA,IAAIA,cAAc,SAAdA,WAAc,CAACC,QAAD,EAAc;EAC9B;EACA;EACA,EAAUA,SAASC,MAAT,IAAmBD,SAASE;EACtC,EAAUF,SAASG,IAAT,IAAiBH,SAASI;EACpC,EAAgBJ,SAASK;EACzB,EAAcL,SAASM;;EANO,MAQxBC,KARwB,GAQdP,QARc,CAQxBO,KARwB;;EAS9B,MAAIA,KAAJ,EAAW;EACT,QAAIC,WAAWD,MAAME,KAAN,CAAY,mBAAZ,CAAf;EACA,IAAoBD,WAAWA,SAAS,CAAT,CAAX,GAAyB;EAC7C;EACD;EACF,CAdD;;AAgBA,mBAAe;EACbE,QAAM,cAACC,EAAD,EAAQ;EACZ,QAAIC,gBAAgBC,OAAOC,OAA3B;EACAD,WAAOC,OAAP,GAAiB,UAAUR,OAAV,EAAmBS,MAAnB,EAA2BC,MAA3B,EAAmCC,KAAnC,EAA0CC,KAA1C,EAAiD;;EAEhE,UAAIC,YAAYpB,YAAYmB,KAAZ,CAAhB;EACAC,gBAAUC,IAAV,GAAiB,OAAjB;EACAR,uBAAiBA,cAAcS,KAAd,CAAoBR,MAApB,EAA4BS,SAA5B,CAAjB;EACD,KALD;EAMA;EACD;EAVY,CAAf;;ECZA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACAC,WAAWb,IAAX,CAAgB,YAAI;EAClBc,UAAQC,GAAR,CAAY,iBAAZ;EACD,CAFD;;;;;;"}